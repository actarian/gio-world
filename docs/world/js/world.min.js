!function(){"use strict";var i=[[43.9096538,12.8399805],[41.8519772,12.2347364],[51.5287718,-.2416791],[40.6976637,-74.1197623]],a=new THREE.WebGLRenderer({alpha:!0,antialias:!0});a.shadowMap.enabled=!0,a.setSize(window.innerWidth,window.innerHeight);var t=document.querySelector("#canvas");t.appendChild(a.domElement);var n=new THREE.Scene;n.fog=new THREE.FogExp2(0,.1);var o=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.01,100);o.position.set(0,1,2),o.up=new THREE.Vector3(0,0,-1),o.lookAt(new THREE.Vector3(0,0,0));var e,r=new THREE.AmbientLight(2236962);n.add(r),(e=new THREE.DirectionalLight(14737632,.8)).position.set(0,2,.5),e.castShadow=!0,e.shadowCameraVisible=!0,e.shadowMapWidth=e.shadowMapHeight=2048,n.add(e);var d=new THREE.DirectionalLight(14737632,.4);d.position.set(0,-2,0),n.add(d);var h,s,E,c,w,l=new THREE.Vector3(0,0,1),g=(h=n,s=new THREE.SphereGeometry(.5,64,64),E=new THREE.MeshStandardMaterial({color:"#fff",transparent:!0,opacity:.85,roughness:.65,metalness:.6,map:THREE.ImageUtils.loadTexture("world/img/world-texture.gif")}),(c=new THREE.Mesh(s,E)).castShadow=!0,c.receiveShadow=!1,c.rotation.y=1.2*Math.PI,h.add(c),c),p=function(e){var t=new THREE.CanvasTexture(function(){var e=document.createElement("canvas");e.width=128,e.height=128;var t=e.getContext("2d"),a=t.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);return a.addColorStop(0,"rgba(255,255,255,1)"),a.addColorStop(.2,"rgba(255,255,255,1)"),a.addColorStop(.22,"rgba(255,255,255,.2)"),a.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=a,t.fillRect(0,0,e.width,e.height),e}()),n=new THREE.Geometry,a=new THREE.PointsMaterial({size:.07,map:t,vertexColors:THREE.VertexColors,blending:THREE.AdditiveBlending,depthTest:!1,transparent:!0}),o=new THREE.Points(n,a);i.map(function(e){return H(e[0],e[1],.5)}).forEach(function(e,t){var a=new THREE.Vector3;a.x=e.x,a.y=e.y,a.z=e.z,n.vertices.push(a),n.colors.push(new THREE.Color(0,0,0))});return n.mergeVertices(),n.verticesNeedUpdate=!0,o.geometry=n,e.add(o),o}(g);function T(){var e={width:0,height:0,aspect:0};e.width=t.offsetWidth,e.height=t.offsetHeight,e.aspect=e.width/e.height,a&&a.setSize(e.width,e.height),o&&(o.aspect=e.aspect,o.updateProjectionMatrix())}function H(e,t,a){var n=(90-e)*(Math.PI/180),o=(t+180)*(Math.PI/180),i=-a*Math.sin(n)*Math.cos(o),r=a*Math.sin(n)*Math.sin(o),d=a*Math.cos(n);return new THREE.Vector3(i,d,r)}w=new THREE.Clock,function e(t){w.getDelta();g.rotation.y+=.002,p.geometry.vertices.forEach(function(e,t){var a=g.localToWorld(e.clone()),n=a.distanceTo(l),o=5*Math.max(0,Math.min(1,1-n));p.geometry.colors[t]=new THREE.Color(o,o,o),p.geometry.colorsNeedUpdate=!0}),a.render(n,o),window.requestAnimationFrame(e)}(),T(),window.addEventListener("resize",T,!1)}();
//# sourceMappingURL=world.min.js.map
